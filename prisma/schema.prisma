generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model department {
  id   Int    @id @default(autoincrement())
  name String
  head String
}

model professional {
  id         Int    @id @default(autoincrement())
  name       String
  email      String
  telephone  String
  password   String
  department String
}

model rooms {
  id          Int    @id @default(autoincrement())
  room_name   String
  room_number Int
  room_beds   Int
  department  String
}

model User {
  id       Int        @id @default(autoincrement())
  name     String
  email    String     @unique(map: "User_email_key")
  password String
  setor    String?  
  tipo     String     @db.VarChar(30)

  pacientes Paciente[] @relation("MedicoPaciente")
}

model Paciente {
  id                   Int      @id @default(autoincrement())
  nome                 String
  cpf                  String   @unique
  data_nascimento      DateTime
  idade                Int
  genero               String
  estado_civil         String
  telefone             String
  endereco             String
  bairro               String
  cidade               String
  estado               String
  cep                  String
  nome_emergencia      String
  telefone_emergencia  String
  endereco_emergencia  String

  medicoResponsavelId  Int?     
  medicoResponsavel    User?    @relation("MedicoPaciente", fields: [medicoResponsavelId], references: [id])

  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
}
